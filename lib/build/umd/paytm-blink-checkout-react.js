!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define("PaytmBlinkCheckoutReact",["React"],e):"object"==typeof exports?exports.PaytmBlinkCheckoutReact=e(require("react")):t.PaytmBlinkCheckoutReact=e(t.React)}(window,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),c={PROJECT_NAME:"Paytm Blink Checkout JS",LINKS:{CHECKOUT_JS_URL:"https://securegw.paytm.in/merchantpgpui/checkoutjs/merchants/"},ERRORS:{INIT:"An error during initialization!",INVOKE:"An error during invoking!",MERCHANT_ID_NOT_FOUND:"Please provide merchant id!",CHECKOUT_NOT_AVAILABLE:"Checkout JS library not found. Please make sure you have included checkout js!",INVALID_CHECKOUT_JS_INSTANCE:"Invalid instance provided!",FAILED_TO_LOAD_SCRIPT:"Failed to load script!"},IDS:{CHECKOUT_ELEMENT:"paytm-checkout-wrapper-"}};Object.keys(c.ERRORS).forEach((function(t){c.ERRORS[t]="".concat(c.PROJECT_NAME,": ").concat(c.ERRORS[t])}));var i=c;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?h(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=r.a.createContext(null);function m(t){return"boolean"==typeof t?t:"string"==typeof t&&"true"===t}var v=function(t){function e(){var t,n;s(this,e);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return d(h(n=l(this,(t=y(e)).call.apply(t,[this].concat(r)))),"elementId",i.IDS.CHECKOUT_ELEMENT+(new Date).getTime()),d(h(n),"isScriptLoaded",!1),d(h(n),"isScriptLoading",!1),d(h(n),"config",null),d(h(n),"state",{checkoutJsInstance:null}),d(h(n),"setupCheckoutJsOnScriptLoad",(function(){var t=n.getCheckoutJsObj();n.isScriptLoading=!0,n.isScriptLoaded=!1,t&&t.onLoad?t.onLoad((function(){n.isScriptLoading=!1,n.isScriptLoaded=!0,n.initializeCheckout()})):console.error(i.ERRORS.INVALID_CHECKOUT_JS_INSTANCE)})),d(h(n),"initializeCheckout",(function(){var t=n.props.openInPopup,e=void 0===t||t,o=f({},n.getCheckoutJsObj());o&&o.init&&o.invoke?o.init(f({},n.props.config,{root:m(e)?"":"#".concat(n.elementId)})).then((function(t){n.setState({checkoutJsInstance:o})})).catch((function(t){console.error(i.ERRORS.INIT,t)})):console.error(i.ERRORS.INVALID_CHECKOUT_JS_INSTANCE)})),n}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){this.preSetup()}},{key:"componentDidUpdate",value:function(t){var e=this;["config","checkoutJsInstance","openInPopup"].some((function(n){return t[n]!==e.props[n]}))&&this.preSetup()}},{key:"preSetup",value:function(){var t=this.props,e=t.config,n=t.checkoutJsInstance,o=e&&e.merchant&&e.merchant.mid;if(o){var r=this.config&&this.config.merchant&&this.config.merchant.mid;this.config=e,(n||this.isScriptLoaded)&&r===o?this.initializeCheckout():(!this.isScriptLoading||r&&o!==r)&&this.loadCheckoutScript(o)}else console.error(i.ERRORS.MERCHANT_ID_NOT_FOUND)}},{key:"loadCheckoutScript",value:function(t){var e=this,n=document.createElement("script");n.async=!0,n.src=i.LINKS.CHECKOUT_JS_URL.concat(t),n.type="application/javascript",n.onload=this.setupCheckoutJsOnScriptLoad,n.onerror=function(t){console.error(i.ERRORS.FAILED_TO_LOAD_SCRIPT,t),e.isScriptLoading=!1},document.body.appendChild(n),this.isScriptLoading=!0}},{key:"getCheckoutJsObj",value:function(){return this.props.checkoutJsInstance?this.props.checkoutJsInstance:window&&window.Paytm&&window.Paytm.CheckoutJS?window.Paytm.CheckoutJS:(console.warn(i.ERRORS.CHECKOUT_NOT_AVAILABLE),null)}},{key:"render",value:function(){var t=this.state.checkoutJsInstance;return r.a.createElement(O.Provider,{value:{checkoutJsInstance:t,elementId:this.elementId}},this.props.children)}}])&&p(n.prototype,o),c&&p(n,c),e}(o.Component);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?j(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){function e(){var t,n;k(this,e);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return I(j(n=g(this,(t=E(e)).call.apply(t,[this].concat(r)))),"checkoutJsInstance",null),I(j(n),"state",{elementId:""}),n}var n,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t),n=e,(o=[{key:"componentDidMount",value:function(){this.setState({elementId:this.context&&this.context.elementId})}},{key:"componentDidUpdate",value:function(){var t=this.checkoutJsInstance,e=this.context.checkoutJsInstance;e&&t!==e&&this.invoke(e)}},{key:"invoke",value:function(t){if(this.checkoutJsInstance=t,t&&t.invoke)try{t.invoke()}catch(t){console.error(i.ERRORS.INVOKE,t)}}},{key:"render",value:function(){return r.a.createElement("div",{id:this.state.elementId})}}])&&_(n.prototype,o),c&&_(n,c),e}(o.Component);I(w,"contextType",O);var P=w;function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){var e,n,c,i,u;return n=e=function(e){function n(){return L(this,n),N(this,A(n).apply(this,arguments))}var o,c,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(n,e),o=n,(c=[{key:"render",value:function(){var e=this.context&&this.context.checkoutJsInstance;return r.a.createElement(t,T({checkoutJsInstance:e},this.props))}}])&&J(o.prototype,c),i&&J(o,i),n}(o.Component),u=O,(i="contextType")in(c=e)?Object.defineProperty(c,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[i]=u,n};n.d(e,"CheckoutProvider",(function(){return v})),n.d(e,"Checkout",(function(){return P})),n.d(e,"injectCheckout",(function(){return x}))}])}));